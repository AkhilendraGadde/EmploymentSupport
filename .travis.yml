language: android
jdk: oraclejdk8
before_cache:
- rm -f $HOME/.gradle/caches/modules-2/modules-2.lock
- rm -fr $HOME/.gradle/caches/*/plugin-resolution/
cache:
  directories:
  - "$HOME/.gradle/caches/"
  - "$HOME/.gradle/wrapper/"
android:
  components:
  - platform-tools
  - tools
  - build-tools-25.0.2
  - android-22
  - android-25
  - sys-img-armeabi-v7a-android-22
  - sys-img-armeabi-v7a-android-25
  - extra-android-m2repository
  - extra-google-google_play_services
  - extra-google-m2repository
before_script:
- echo no | android create avd --force -n test -t android-22 --abi armeabi-v7a
- emulator -avd test -no-skin -no-audio -no-window &
- android-wait-for-emulator
- adb shell input keyevent 82 &
script: "./gradlew clean assembleDebug"
before_install:
- openssl aes-256-cbc -K $encrypted_f3982cf96c0c_key -iv $encrypted_f3982cf96c0c_iv
  -in key.jks.enc -out key.jks -d
- chmod +x gradlew
- chmod +x addtags.sh
after_success:
- sh addtags.sh
before_deploy:
- "./gradlew assembleRelease -Pandroid.injected.signing.store.file=key.jks -Pandroid.injected.signing.store.password=$storepass
  -Pandroid.injected.signing.key.alias=GCESS -Pandroid.injected.signing.key.password=$keypass"
- cd app/build/outputs/apk/
- mv app-release.apk ES-release.apk
deploy:
  provider: releases
  api_key:
    secure: "$githubapi"
  file_glob: 'true'
  skip_cleanup: true
  file: ES-release.apk
  on:
    repo: AkhilendraGadde/EmploymentSupport
env:
  global:
  - secure: y/bjnmtcpADDMTY7TV2um8CfJo/JO1XvViiRtRJeB+XCV40Qd3y98YAwsIIfJYCNIl271FedfEeXTXdf+9l/N2a5KbTvzGoi/X1MldKF+t2QnEI94N2Fuif3o2k+6aoKph9sMcIdL95QY7VMfNnkAZkFNSuzAesLx5nwymDrJgrgEO58jKdadgi4UQSEpR28Chk1zmUUHsbqkYTK93sfhuJZQH61dlB0/hbEMTPTQ5x2JnI7aQG7wavoXQGRCXHhP8JLC1LJav0J0dwcPjMfXrJx3XxMUuSIGx+HJE61L4/0VgKXvdgbOTqX4PYKygqUKupL+eYAYjZaCdMXYu6nmQpGa06PUKvAAZgm/Y2Vy0gTUhlKulYcxCgreh7TFKIfvA9tRDM4lffTU0uHHJnFGk/uRAziiqFRrfNmSPI/X1RV7ziwphrktP4fxy2sI1cxxVBjjbOaDn1UCbzVLDmV3/I+Wv7aS3Fs6TzzirvuGgbrh+NZb8sIRv6q32zFt8YlSLi4WHYcw4EZ7oqPM+IjaELSZYmntaqqsOXkDbpJ3UgL30bsCB5dpu1EsOpXI/hhEx8sZi3049aS8bR8WCdd1NrSDVzyvBrpZBr+CfWpY5QRZ+fVFXZy8ugoMScD5lwWLjHd3o7mKFtP3ZJS6gDHVnlA3pFhhxrCM0CD+BTlC5U=
  - secure: GwwhugNr7LJNtpwengDzoJf9nHEgQRliRhY/53MC9RM4mnwmHZt4rYAiMEFwme0LbrZNh5WXXUDTDaRgjBDuRZuxDFDPbFQPxiqBxX7n+6BNPAzoo51gTY0T/oIEpyti1Tl2gY45wLBFhvJQstjteePliJT4ZnWHgu5TsrUBo+OcGBjNpnpAF21jXF6JPL5xD/dCGIQUnplegjoAiNSICdLjwuKUdvgdYknevilTC7tuQ2NPWF4NPuWFutP8UfByjtLt/sji48x90xHZ3egplq7v6e8FjKv5cTr7e7HaocudSGfIoDad3Lv9luD1pqoPi0Rd0DxMpJg/nlG0RF3dr5jaTxF4n3BoPHCgEPR+2XLdnEM4E8WCC8zgth54tLKsjQiekejr3Sgu1/zupaf2jZJ9uRAiNXzbviglnbht/VdPsVfgXxthHhsK333bZd3XpAL5zD3COPd8q89zgYDPEM3PlOHiy8MVSvF3FPUXDZq4+9HsAhXBJhpHdMEPOHhsxkH2X6yHWwwqlOCP6TIhFLzOrybG08lYc+UIpThYoEHOG9AeMpUbpw9r6ojkmw8PFOT7dW0YOmzIzwKGFPJPrlYy7DnyHQ5jHR0BQ910p+R4oq3b5VChHVvxaQDWCZPl6Sd2+MprO4HN9zhWq/SkLNCxIauf0R4bbyMeHoQGhII=
  - secure: yerpNldXZiNcdm830FgHjEhH24fGSKuSXi/OkRwWBLSElF8cPI/DMSqCs358tLctMunRqB5EwDpM5g5ghEbA6H+L6mIsjDr3R7DY5bOmRgaZIXVmjPJNLOlnTmrZaR3X2qk7U7KkLz6qZYmNLq2Nq5WamPzwKqAzzDGiOPjJQafZ3LI0Rs63XLjK6EDI22VO3El0+SBNHLCIw/Tq5SLBpDdd3R/I6+z0E54N6C8yI4aKOv+JOcUB41OXN8mrR19GKTfRRJsqbG9sXUAJM67Nz5RVdsyoC3zO1osbXkz3JVwGxJcceKY1Td/poGpBcTntxrhCo/LOCAUqO6W+CB1lOwse4+YorUFVsBvTI/yL9RJFFyGLdNUtzYnJ5MlDqCYv45kt12DIIFRIYBjqGRfZIrx/0ubrEDbh5m+cNW95v7wUCnYVWSVQ7Wp6vjkbEwS7p6mRY5AjxWmJ4Uz/iOP9wzfIsepiIoYSOwJZQ6Tf6Ng0Wqu6+0Ad1GAlCCfUTEeSqpQoh/5jwTtyAyjT4P+XHmRE4U7cxBft0IzyG6MPcbtZXIecDa61RFAwvmgGzeXOltDW8SbvheHkzIxkRuGsk6EH48mha0gJQQNWHx4cWX6JTPIYhBiaNcnVsH2V0UdT1NkQwzdQpOxtfT/QacxKElDktOSg1ZewJiFooAIiIMo=
