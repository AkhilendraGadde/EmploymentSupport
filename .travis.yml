language: android
jdk: oraclejdk8
before_cache:
- rm -f $HOME/.gradle/caches/modules-2/modules-2.lock
- rm -fr $HOME/.gradle/caches/*/plugin-resolution/
cache:
  directories:
  - "$HOME/.gradle/caches/"
  - "$HOME/.gradle/wrapper/"
android:
  components:
  - platform-tools
  - tools
  - build-tools-25.0.2
  - android-22
  - android-25
  - sys-img-armeabi-v7a-android-22
  - sys-img-armeabi-v7a-android-25
  - extra-android-m2repository
  - extra-google-google_play_services
  - extra-google-m2repository
before_script:
- echo no | android create avd --force -n test -t android-22 --abi armeabi-v7a
- emulator -avd test -no-skin -no-audio -no-window &
- android-wait-for-emulator
- adb shell input keyevent 82 &
script: "./gradlew clean assembleDebug"
before_install:
- openssl aes-256-cbc -K $encrypted_f3982cf96c0c_key -iv $encrypted_f3982cf96c0c_iv
  -in ess_keystore_build.jks.enc -out ess_keystore_build.jks -d
- chmod +x gradlew
- chmod +x addtags.sh
after_success:
- sh addtags.sh
before_deploy:
- "./gradlew assembleRelease -Pandroid.injected.signing.store.file=ess_keystore_build.jks -Pandroid.injected.signing.store.password=$storepass
  -Pandroid.injected.signing.key.alias=GCESS -Pandroid.injected.signing.key.password=$keypass"
- cd app/build/outputs/apk/
- mv app-release.apk ES-release.apk
deploy:
  provider: releases
  api_key:
    secure: "$githubapi"
  file_glob: 'true'
  skip_cleanup: true
  file: ES-release.apk
  on:
    repo: AkhilendraGadde/EmploymentSupport
env:
  global:
  - secure: llLhqG7uVF79ktrGh9M1FKOXY9U3DeFtsjiTn3hH13qiqhU7cnAytoDHKb5j5m8DXN55li2wNWIR86E776sclqhCA9p9NEgLRdvtWqR7a7sZ2pzq0AVhCCW/cuBoeOZTtOryEiK9gmg0yh53wbii9Kjlf/zHJg6Toi2dfDRsJYOM8Vi6gg6yCMfrvMKQ9ml5K8NM04B3iKdq3ZSVo1AuJzFNfefmyyZMO9acqRIMDztzsQiubhLEpYvGKxmJyu8EPLRI3l6fe2Bt6+Gp1ImW9bJ2NK73biSW+mvJYOhWQIO1FG3Nrff0zr38Itff8a12fGNdCmdnzVUf99zHskhdd+001bFSxz51A7aoctzTwOAPDT1Iw55ikpykrkOmw3NyxwStDd0xAbnFv9+oBA2N77Qgzxc4GhWtm3iigi0XSiseVEV+O2/DDrIx3VmhmUy7vE6wavkHbs1OUF0IbLSkgGdRLzYs52Xwl08Fx3f8jqSeVyKCp28Mj2QNt+C1ANrWH/lts//klsSrf4W17fGxG97qL/DHRZ4lh9v6WLU6Rta2rxA7xTirL5YwYA5KSaZ/zTbIc3T5c8c1vxa9OQXEbzgw/sDetjDhW4k3hhVs0fp89dwx4U7W4RSDVTm3vVb8PVw276Un8scEZuIRBHZ5V7BI8fdBfQIc22/fSyahJos=
  - secure: kIfd25a2mm1XjWHiLqslHVzxlzGydjKpuakBJ+W7AkpSMtLo8EQiJMOvqE4sHqsYkwPZxnJ81EPF7VGMeBLhc2UO1Q2YGLbRbUdxc3p9r78WRXBJr22IqQ4BJkk647gfuc8MT5ZsH1TffZm1gbhPd9HGEfHD0L1/N9Qv/8Ljc+kh4EDHsbZCDBWp6GpBJvYLZAedkWEkz/aHqNn8x0GnhiTfNMO3nEyWTwHcEYqVm1qe94VBq828XpdYQdfPBGwZ7QOYuNYhqq+4xodBaKp3iUIxh3gF+hvti75Mg1Rhggd7IfyPCfc/+L0eOfCpAXeio5Uyp8fIKEQgx0O8QQDHeRsc+EwL8mYUSis7SymTEYgqGD9Owok+s89qB45L37Fe9do26L9sTWSRDb5+bL95+EZmmXlTGPojaS96OAp5QIJVcB7IC2m2+DzcqmdhM9g9HXlpHHBGsv9ILZG8DO1+4e2Toa29E7oKxRy8YE7al1YvsrS163t2iFH7aTIoMctOE9Oj6OdW63vmQbpHoDc4i/P4rjJozNgDxv+wCUVHvzlgG3UrMwHATZFwafIfbB+ZAS0YYs3Lk0Gd0UnL30BFRS5UWvaenGkZIBxhQLDiRiJYdJhvDym7AB1qM8cG0WlWSMA2LvAIGsw6HVsQRyH/8qhdxslWWV1pM32siWLlR7E=
  - secure: GZQfK0g4o07J+HIl8YdX6cFXDtS/LhHAIjcoWK/fuUeMZhxb6zcbhIIZx0On5Tgllf4jGtuY/uYeq+fdmdJhD8GuBnmDscSfQgFdVibghqj1gNyXncuDM/LxhcV1AWcqaK83+3OQcGlT0ExExFVQ6tqki6F7eqYPoSqdpZ3mkkHMW82cXORGtDeD2URxuZ5Ji6MWALqlVN1tXHJvmfrDL36RnY/dqTmaUwshROY5dP3sms+io+jR3Mx5mFvYn9ozUDn8cV4J+Veaz+HYCsoLFxzIdnCF2vcQH6g3fGbm/Ec0cEadR68uTVjxVs0aQW4RUrwUDZNDUyDZ30KMlYqRdi3wU7PZ1zBvFbHP3KPCP28PqpXjKKEqBiHvi4H2RDBSD+BQK18rGh/ns8Msgo2V9BMRLAkbkBtb/L49nVQYfxKGQabUer4UMUelPuJfj0orcALo93gpTeOrLfedxsZzp3QIoP9zirFuosWA8Gg9Rp0eXC2ekkG/0u5y1KrSBdLYkcTJ1rEBQ3k5Dw386DlO9Enw3yBQ2f+K7khOSAkBQ/JCIC44vjEc324pa2UuCMv/ic0k/2u4QJkDh0Sl15IGHK4HU8JsHXgohZfTtHmReMQA0/3fSM4qPQRCjO0W7UdoABzx5CdEwUE25MzoXVTvcAQhlCFzF/vYaJP2FhNPR/4=
